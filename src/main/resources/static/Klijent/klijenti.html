<div ng-controller="klijentController">
	<h1 class="page-header">Svi klijenti banke
		{{korisnik.banka.naziv}}</h1>
	<p>
	<div class="container">
		<div class="btn-group">
			<button type="button" class="btn btn-default" ng-click="display(1)">
				<img src="images/search.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(2)">
				<img src="images/refresh.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(3)">
				<img src="images/zoom-pickup.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(4)">
				<img src="images/help.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(5)">
				<img src="images/zoom-pickup.gif" width="30" />
			</button>
		</div>
		<div class="btn-group">
			<button type="button" class="btn btn-default" ng-click="display(6)">
				<img src="images/first.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(7)">
				<img src="images/prev.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(8)">
				<img src="images/next.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(9)">
				<img src="images/last.gif" width="30" />
			</button>
		</div>
		<div class="btn-group">
			<button type="button" class="btn btn-default" ng-click="display(10)">
				<img src="images/add.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default" ng-click="display(11)">
				<img src="images/edit.gif" width="30" />
			</button>
			<button type="button" class="btn btn-default"
				ng-disabled="!selectedKlijent"  confirmed-click="izbrisiKlijenta()"
						ng-confirm-click="Da li zelite da izbrisete selektovanog klijenta? Potvrda brisanja nosi sve podatke zavisne od njega."">
				<img src="images/remove.gif" width="30" />
			</button>
		</div>
		<div class="btn-group">
			<button type="button" class="btn btn-default" ng-click="display(13)">
				<img src="images/nextform.gif" width="30" />
			</button>
			</p>
		</div>
	</div>
	<br />
	<div class="container">
		<div class="table-responsive">
			<table class="table">
				<thead>
					<tr>
						<th>Ime</th>
						<th>Prezime</th>
						<th>Korisnicko ime</th>
						<th>Lice</th>
						<th>Djelatnost</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="k in sviKlijenti" ng-click="setSelectedKlijent(k)"
						ng-class="{'info' : selectedKlijent===k}">
						<td>{{k.ime}}</td>
						<td>{{k.prezime}}</td>
						<td>{{k.korisnickoIme}}</td>
						<td>{{k.ulogaK}}</td>
						<td>{{k.djelatnost.sifra}}</td>
					</tr>
				</tbody>
			</table>
		</div>
		<br />
	</div>
	<h2 class="page-header">Forma :</h2>
	<form name="myForm" novalidate>
		<div class="form-group">
			<label>Ime:</label> <input type="text" name="ime"
				ng-Model="noviKlijent.ime" class="form-control"
				placeholder="Unesi ime" ng-disabled="mode == 'nulto'" pattern="^[A-Z][a-z A-Z]*" />
		</div>
		<div role="alert" style="color: red">
			<span class="error" ng-show="myForm.ime.$error.pattern">
				Primjer sa svim dozvoljenim slovima : "Sasa_da nekaNsda" !</span>
		</div>
		<div class="form-group">
			<label>Prezime:</label> <input type="text" name="prezime"
				ng-Model="noviKlijent.prezime" class="form-control"
				placeholder="Unesi prezime" pattern="^[A-Z][a-z A-Z]*" />
		</div>
		<div role="alert" style="color: red">
			<span class="error" ng-show="myForm.prezime.$error.pattern">
				Primjer sa svim dozvoljenim slovima : "Sasa_da nekaNsda" !</span>
		</div>
		<div class="form-group">
			<label>Korisnicko ime:</label> <input type="text"
				name="korisnickoIme" ng-Model="noviKlijent.korisnickoIme"
				class="form-control" placeholder="Unesi korisnickoIme"
				ng-required="mode=='add'" />
		</div>
		<div role="alert" style="color: red">
			<span class="error" ng-show="myForm.korisnickoIme.$error.pattern">
				Primjer sa svim dozvoljenim slovima : "Sasa_da nekaNsda" !</span>
		</div>
		<div ng-if="mode=='add'">
			<div class="form-group">
				<label>Lozinka:</label> <input type="password" name="lozinka"
					ng-Model="noviKlijent.lozinka" class="form-control"
					placeholder="Unesi lozinku" required />
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-sm-3">Tip klijenta :</label>
			<div class="col-sm-6">
				<div class="row">
					<div class="col-sm-4">
						<label class="radio-inline"> <input type="radio"
							id="femaleRadio" ng-value="'FIZICKO'"
							ng-Model="noviKlijent.ulogaK">FIZICKO LICE
						</label>
					</div>
					<div class="col-sm-4">
						<label class="radio-inline"> <input type="radio"
							id="maleRadio" ng-value="'POSLOVNO'"
							ng-Model="noviKlijent.ulogaK">POSLOVNO LICE
						</label>
					</div>

				</div>
			</div>
		</div>
		<select ng-model="djelatnostKlijenta"
			ng-options="djel as djel.sifra for djel in djelatnosti"
			disabled>
		</select>
		<button type="button" class="btn btn-default" data-toggle="modal"
			data-target="#izaberiDjelatnost">Izaberi djelatnost</button>
		<div class="form-group">
			<button type="submit" class="btn btn-success"
				ng-Click="regKlijenta()" ng-disabled="myForm.$invalid">Sacuvaj</button>
		</div>
	</form>
	<div id="izaberiDjelatnost" class="modal fade" role="dialog"
		style="color: black;">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Izaberi djelatnost</h4>
				</div>
				<div class="modal-body">
					<table class="table">
						<thead>
							<tr>
								<th>Naziv</th>
								<th>Sifra</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="djel in djelatnosti"
								ng-click="setSelectedDjelatnost(djel)"
								ng-class="{'info' : djelatnostKlijenta===djel}">
								<td>{{djel.naziv}}</td>
								<td>{{djel.sifra}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

		</div>
	</div>